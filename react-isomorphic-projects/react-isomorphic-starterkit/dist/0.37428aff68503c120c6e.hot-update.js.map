{"version":3,"sources":["webpack:///../src/server.js?22b7"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;KAAY;;AACZ;;KAAY;;AACZ;;;;AAEA;;;;AACA;;;;;;;;AAEA,KAAI;;AACH,OAAM,MAAW,oBAAX;AACN,OAAM,WAAW,QAAQ,GAAR,CAAY,QAAZ,IAAwB,WAAxB;AACjB,OAAM,OAAW,QAAQ,GAAR,CAAY,IAAZ,IAAoB,IAApB;AACjB,OAAM,yBAAN;;AAEA,OAAI,GAAJ,CAAQ,yBAAU,QAAV,CAAR;;AAEA,OAAI,GAAJ,CAAQ,wBAAS;AAChB,UAAM,iBAAU,GAAV;AACN,WAAO,mBAAP;AACA,SAAK,aAAC,IAAD;YAAU,KAAK,OAAL,CAAa,mBAAb,EAAkC,GAAlC;KAAV;IAHE,CAAR;;AAMA,OAAI,GAAJ,yBAAQ,iBAAW,IAAX;;;;;;;;eACA,UAAC,QAAD,EAAc;AACpB,aAAM,YAAY,SAAiB,EAAjB,UAA2B,MAAK,QAAL,UAA3B,CADE;AAEpB,aAAM,WAAY,QAAQ,cAAR,CAAuB,MAAK,IAAL,CAAnC,CAFc;;AAIpB,qBAAY,KAAZ,CAAkB,EAAC,cAAD,EAAS,kBAAT,EAAlB,EAAsC,UAAC,KAAD,EAAQ,gBAAR,EAA0B,WAA1B,EAA0C;AAC/E,cAAI,gBAAJ,EAAsB;AACrB,iBAAK,QAAL,CAAc,iBAAiB,QAAjB,GAA4B,iBAAiB,MAAjB,EAAyB,GAAnE,EADqB;AAErB,kBAFqB;WAAtB;;AAKA,cAAI,SAAS,CAAC,WAAD,EAAc;AAC1B,oBAAS,KAAT,EAD0B;AAE1B,kBAF0B;WAA3B;;AAKA,kCAAS,cAAT,CAAwB,YAAY,cAAZ,EAA4B,WAApD,EAAiE,IAAjE,CAAsE,gBAA8B;eAA5B,+BAA4B;eAAf,2BAAe;;AACnG,eAAI,gWASsB,kEATtB,CAD+F;;AAenG,iBAAK,IAAL,GAAY,WAAZ,CAfmG;AAgBnG,iBAAK,IAAL,GAAY,wBAAS,gBAAT,CAA0B,QAA1B,EAAoC,SAApC,EAA+C,CAAI,6BAAJ,CAA/C,CAAZ,CAhBmG;;AAkBnG,oBAAS,IAAT,EAlBmG;WAA9B,CAAtE,CAX+E;UAA1C,CAAtC,CAJoB;SAAd;;;;;;;;IADA,CAAR;;AAwCA,OAAI,MAAJ,CAAW,IAAX,EAAiB,YAAM;AACtB,YAAQ,IAAR,CAAa,4BAAb,EADsB;AAEtB,YAAQ,IAAR,CAAa,4BAAb,EAA2C,QAA3C,EAAqD,IAArD,EAFsB;IAAN,CAAjB;;AAKA,OAAI,IAAJ,EAAa;AACZ,QAAI,MAAY;AACf,aAAQ,GAAR,CAAY,uCAAZ,EADe;;AAGf,YAAO,GAAP,CAAW,MAAX,CAAkB,GAAlB,EAAuC,YAAM;AAC5C,eAAS,oBAAQ,GAAR,CAAT,CAD4C;MAAN,CAAvC,CAHe;;AAOf,YAAO,GAAP,CAAW,gBAAX,CAA4B,UAAC,MAAD,EAAY;AACvC,UAAI,WAAW,OAAX,EAAoB;AACvB,kBAAW;eAAM,QAAQ,IAAR,CAAa,CAAb;QAAN,EAAuB,CAAlC,EADuB;OAAxB;MAD2B,CAA5B,CAPe;KAAhB;IADD;OA3DG;EAAJ,CA2EA,OAAO,KAAP,EAAc;AACb,UAAQ,KAAR,CAAc,MAAM,KAAN,IAAe,KAAf,CAAd,CADa","file":"0.37428aff68503c120c6e.hot-update.js","sourcesContent":["import babelPolyfill from \"babel-polyfill\";\nimport koa from \"koa\";\nimport koaProxy from \"koa-proxy\";\nimport koaStatic from \"koa-static\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom/server\";\nimport * as ReactRouter from \"react-router\";\nimport * as history from \"history\";\nimport Transmit from \"react-transmit\";\n\nimport githubApi from \"apis/github\";\nimport routesContainer from \"containers/routes\";\n\ntry {\n\tconst app      = koa();\n\tconst hostname = process.env.HOSTNAME || \"localhost\";\n\tconst port     = process.env.PORT || 8000;\n\tlet   routes   = routesContainer;\n\n\tapp.use(koaStatic(\"static\"));\n\n\tapp.use(koaProxy({\n\t\thost: githubApi.url,\n\t\tmatch: /^\\/api\\/github\\//i,\n\t\tmap: (path) => path.replace(/^\\/api\\/github\\//i, \"/\")\n\t}));\n\n\tapp.use(function *(next) {\n\t\tyield ((callback) => {\n\t\t\tconst webserver = __PRODUCTION__ ? \"\" : `//${this.hostname}:8080`;\n\t\t\tconst location  = history.createLocation(this.path);\n\n\t\t\tReactRouter.match({routes, location}, (error, redirectLocation, renderProps) => {\n\t\t\t\tif (redirectLocation) {\n\t\t\t\t\tthis.redirect(redirectLocation.pathname + redirectLocation.search, \"/\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (error || !renderProps) {\n\t\t\t\t\tcallback(error);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tTransmit.renderToString(ReactRouter.RoutingContext, renderProps).then(({reactString, reactData}) => {\n\t\t\t\t\tlet template = (\n\t\t\t\t\t\t`<!doctype html>\n\t\t\t\t\t\t<html lang=\"en-us\">\n\t\t\t\t\t\t\t<head>\n\t\t\t\t\t\t\t\t<meta charset=\"utf-8\">\n\t\t\t\t\t\t\t\t<title>999 react-isomorphic-starterkit 999</title>\n\t\t\t\t\t\t\t\t<link rel=\"shortcut icon\" href=\"/favicon.ico\">\n\t\t\t\t\t\t\t</head>\n\t\t\t\t\t\t\t<body>\n\t\t\t\t\t\t\t\t<div id=\"react-root\">${reactString}</div>\n\t\t\t\t\t\t\t</body>\n\t\t\t\t\t\t</html>`\n\t\t\t\t\t);\n\n\t\t\t\t\tthis.type = \"text/html\";\n\t\t\t\t\tthis.body = Transmit.injectIntoMarkup(template, reactData, [`${webserver}/dist/client.js`]);\n\n\t\t\t\t\tcallback(null);\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n\n\tapp.listen(port, () => {\n\t\tconsole.info(\"==> âœ…  Server is listening\");\n\t\tconsole.info(\"==> ðŸŒŽ  Go to http://%s:%s\", hostname, port);\n\t});\n\n\tif (__DEV__) {\n\t\tif (module.hot) {\n\t\t\tconsole.log(\"[HMR] Waiting for server-side updates\");\n\n\t\t\tmodule.hot.accept(\"containers/routes\", () => {\n\t\t\t\troutes = require(\"containers/routes\");\n\t\t\t});\n\n\t\t\tmodule.hot.addStatusHandler((status) => {\n\t\t\t\tif (status === \"abort\") {\n\t\t\t\t\tsetTimeout(() => process.exit(0), 0);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n}\ncatch (error) {\n\tconsole.error(error.stack || error);\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/server.js\n **/"],"sourceRoot":""}